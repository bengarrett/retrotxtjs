/*
 *  ESLint configuration.
 *
 *  This config was last revised for ESLint v7.
 *
 *  Rules: https://eslint.org/docs/rules/
 */
module.exports = {
  env: {
    browser: true,
    es2020: true,
  },
  extends: [`eslint:recommended`, `prettier`],
  globals: {
    module: `readonly`,
  },
  parserOptions: {
    ecmaVersion: 2020,
    sourceType: `module`,
  },
  overrides: [
    {
      files: `./retrotxt-init.js`,
      env: { es2020: false },
      parserOptions: { ecmaVersion: 3, sourceType: "script" },
      rules: {},
    },
    {
      files: `./test/retrotxt.js`,
      env: { qunit: true },
      parserOptions: { ecmaVersion: 2017 },
    },
    {
      files: `./retrotxt.js`,
      rules: {
        "no-template-curly-in-string": `error`,
        "no-unsafe-optional-chaining": `error`,
        "array-callback-return": `error`,
        "block-scoped-var": `error`,
        "consistent-return": `error`,
        "default-case": `error`,
        "default-case-last": `error`,
        eqeqeq: [`error`, `smart`],
        "no-else-return": `error`,
        "no-empty-function": [`error`],
        "no-eval": `error`,
        "no-extend-native": `error`,
        "no-extra-bind": `error`,
        "no-extra-label": `error`,
        "no-floating-decimal": `error`,
        "no-implicit-coercion": `error`,
        "no-implicit-globals": `error`,
        "no-implied-eval": `error`,
        "no-invalid-this": `error`,
        "no-iterator": `error`,
        "no-labels": `error`,
        "no-lone-blocks": `error`,
        "no-loop-func": `error`,
        "no-magic-numbers": [
          `error`,
          { ignore: [0, 1, 2], ignoreArrayIndexes: true },
        ],
        "no-multi-spaces": `error`,
        "no-multi-str": `error`,
        "no-new": `error`,
        "no-new-func": `error`,
        "no-new-wrappers": `error`,
        "no-nonoctal-decimal-escape": `error`,
        "no-octal": `error`,
        "no-octal-escape": `error`,
        "no-param-reassign": `error`,
        "no-proto": `error`,
        "no-return-assign": `error`,
        "no-return-await": `error`,
        "no-script-url": `error`,
        "no-self-compare": `error`,
        "no-sequences": `error`,
        "no-throw-literal": `error`,
        "no-unmodified-loop-condition": `error`,
        "no-useless-call": `error`,
        "no-useless-concat": `error`,
        "no-useless-return": `error`,
        "no-void": `error`,
        "no-warning-comments": `error`,
        "prefer-promise-reject-errors": `error`,
        "require-await": `error`,
        "vars-on-top": `error`,
        yoda: [`error`, `never`],
        strict: `error`,
        "no-label-var": `error`,
        "no-shadow": `error`,
        "no-undef-init": `error`,
        "no-undefined": `error`,
        "no-use-before-define": `error`,
        camelcase: `error`,
        "new-cap": `error`,
        "no-array-constructor": `error`,
        "no-inline-comments": `error`,
        "no-lonely-if": `error`,
        "no-multi-assign": `error`,
        "no-negated-condition": `error`,
        "no-nested-ternary": `error`,
        "no-new-object": `error`,
        "no-tabs": [`error`, { allowIndentationTabs: true }],
        quotes: [`error`, `backtick`],
        "unicode-bom": [`error`, `never`],
        // ES2015
        "no-confusing-arrow": `error`,
        "no-duplicate-imports": `error`,
        "no-useless-computed-key": `error`,
        "no-useless-constructor": `error`,
        "no-var": `error`,
        "object-shorthand": `error`,
        "prefer-const": `error`,
        "prefer-rest-params": `error`,
        "prefer-spread": `error`,
        "prefer-template": `error`,
        "symbol-description": `error`,
        "template-curly-spacing": `error`,
      },
    },
  ],
};
